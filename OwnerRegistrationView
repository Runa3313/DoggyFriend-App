import SwiftUI

struct OwnerRegistrationView: View {
    @Binding var isRegistered: Bool
    @AppStorage("ownerName") private var ownerName: String = ""
    @AppStorage("dogName") private var dogName: String = ""
    @AppStorage("dogGender") private var dogGender: String = "ã‚ªã‚¹"
    @AppStorage("dogAge") private var dogAge: Int = 1
    @AppStorage("dogBreed") private var dogBreed: String = ""

    var body: some View {
        ZStack {
            // ğŸŒˆ æ˜ã‚‹ã„ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
            LinearGradient(gradient: Gradient(colors: [Color.blue.opacity(0.7), Color.purple.opacity(0.7)]),
                           startPoint: .topLeading, endPoint: .bottomTrailing)
                .edgesIgnoringSafeArea(.all)

            VStack(spacing: 25) {
                Text("ã‚ã‚“ã“æƒ…å ±ã®ç™»éŒ²")
                    .font(.largeTitle)
                    .fontWeight(.bold)
                    .foregroundColor(.white)
                    .padding()

                // ğŸ• é£¼ã„ä¸»åã¨çŠ¬åå…¥åŠ›
                CustomTextField(placeholder: "é£¼ã„ä¸»ã®åå‰", text: $ownerName)
                CustomTextField(placeholder: "çŠ¬ã®åå‰", text: $dogName)

                // ğŸ¾ çŠ¬ã®æ€§åˆ¥é¸æŠ
                Picker("æ€§åˆ¥", selection: $dogGender) {
                    Text("ã‚ªã‚¹").tag("ã‚ªã‚¹")
                    Text("ãƒ¡ã‚¹").tag("ãƒ¡ã‚¹")
                }
                .pickerStyle(SegmentedPickerStyle())
                .padding()
                .background(Color.white.opacity(0.4))
                .cornerRadius(12)

                // ğŸ¶ çŠ¬ã®å¹´é½¢è¨­å®š
                Stepper(value: $dogAge, in: 1...20) {
                    Text("å¹´é½¢: \(dogAge)æ­³")
                        .foregroundColor(.white) // ã‚ˆã‚Šã¯ã£ãã‚Šã—ãŸç™½è‰²ã«å¤‰æ›´
                        .font(.headline)  // å°‘ã—å¤§ãã‚ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã«å¤‰æ›´
                }
                .padding()
                .background(Color.white.opacity(0.4))
                .cornerRadius(12)

                // ğŸ• çŠ¬ç¨®å…¥åŠ›
                CustomTextField(placeholder: "çŠ¬ç¨®", text: $dogBreed)

                // å®Œäº†ãƒœã‚¿ãƒ³
                Button(action: {
                    isRegistered = true // ç™»éŒ²ãŒå®Œäº†ã—ãŸã‚‰ isRegistered ã‚’ true ã«ã™ã‚‹
                }) {
                    Text("ç™»éŒ²å®Œäº†")
                        .font(.headline)
                        .foregroundColor(.white)
                        .padding()
                        .background(Color.green)
                        .cornerRadius(12)
                        .shadow(radius: 5)
                }
            }
            .padding()
        }
    }

    // ğŸ¨ å…±é€šã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    private func CustomTextField(placeholder: String, text: Binding<String>) -> some View {
        TextField(placeholder, text: text)
            .textFieldStyle(RoundedBorderTextFieldStyle())
            .padding()
            .background(Color.white.opacity(0.4))
            .cornerRadius(12)
            .foregroundColor(.white)
    }
}

#Preview {
    OwnerRegistrationView(isRegistered: .constant(false))
}
