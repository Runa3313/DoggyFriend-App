import SwiftUI

struct LoverRegistrationView: View {
    @Binding var isRegistered: Bool
    @AppStorage("loverName") private var loverName: String = ""
    @AppStorage("loverGender") private var loverGender: String = "ç”·æ€§"

    var body: some View {
        ZStack {
            // ğŸŒˆ æ˜ã‚‹ã„ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
            LinearGradient(gradient: Gradient(colors: [Color.blue.opacity(0.7), Color.purple.opacity(0.7)]),
                           startPoint: .topLeading, endPoint: .bottomTrailing)
                .edgesIgnoringSafeArea(.all)

            VStack(spacing: 25) {
                Text("ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²")
                    .font(.largeTitle)
                    .fontWeight(.bold)
                    .foregroundColor(.white)
                    .padding()

                // ğŸ¾ ãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›
                CustomTextField(placeholder: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å", text: $loverName)

                // ğŸ¶ æ€§åˆ¥é¸æŠ
                Picker("æ€§åˆ¥", selection: $loverGender) {
                    Text("ç”·æ€§").tag("ç”·æ€§")
                    Text("å¥³æ€§").tag("å¥³æ€§")
                }
                .pickerStyle(SegmentedPickerStyle())
                .padding()
                .background(Color.white.opacity(0.4))
                .cornerRadius(12)

                // å®Œäº†ãƒœã‚¿ãƒ³
                Button(action: {
                    isRegistered = true
                }) {
                    Text("ç™»éŒ²å®Œäº†")
                        .font(.headline)
                        .foregroundColor(.white)
                        .padding()
                        .background(Color.green)
                        .cornerRadius(12)
                        .shadow(radius: 5)
                }
            }
            .padding()
        }
    }

    // ğŸ¨ å…±é€šã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    private func CustomTextField(placeholder: String, text: Binding<String>) -> some View {
        TextField(placeholder, text: text)
            .textFieldStyle(RoundedBorderTextFieldStyle())
            .padding()
            .background(Color.white.opacity(0.4))
            .cornerRadius(12)
            .foregroundColor(.white)
    }
}

#Preview {
    LoverRegistrationView(isRegistered: .constant(false))
}
